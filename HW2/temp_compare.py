import numpy as np
import random
import math
import matplotlib.pyplot as plt



num_train = 1555
num_test = 173
total = 1728
step = 1000

alpha = 1

train_data=[]
test_data=[]

train_error=[]
test_error=[]


D=[]

def NaiveBayesianClassifier(data):
	total = len(data)

	# print data[0]

	buying = [[0,0,0,0],[0,0,0,0]]
	maint = [[0,0,0,0],[0,0,0,0]]
	doors = [[0,0,0,0],[0,0,0,0]]
	persons = [[0,0,0],[0,0,0]]
	lug_boot = [[0,0,0],[0,0,0]]
	safety = [[0,0,0],[0,0,0]]
	negtotal = 0
	postotal = 0
	# index = 1
	for line in data:
		if line[1] == -1:
			# print "1:{}".format(index)
			# print buying[0][line[0][0]-1]
			buying[0][line[0][0]-1] += 1
			# print buying[0]
			# print buying[0][line[0][0]-1]

			maint[0][line[0][1]-1] += 1
			doors[0][line[0][2]-1] += 1
			persons[0][line[0][3]-1] += 1
			lug_boot[0][line[0][4]-1] += 1
			safety[0][line[0][5]-1] += 1
			negtotal += 1
		else:
			# print "2:{}".format(index)
			# print "2:{}".format(buying[0])
			# print "2_:{}".format(buying[1])

			buying[1][line[0][0]-1] += 1
			# buying[0][line[0][0]-1] -= 1
			# print "2:{}".format(buying[0])
			# print "2_:{}".format(buying[1])

			maint[1][line[0][1]-1] += 1
			doors[1][line[0][2]-1] += 1
			persons[1][line[0][3]-1] += 1
			lug_boot[1][line[0][4]-1] += 1
			safety[1][line[0][5]-1] += 1
			postotal += 1
			# print "2:{}".format(buying[0])

		# index += 1
	# print buying[0]
	# print len(buying)
	# print sum(buying[0])
	# print sum(buying[1])
	# print sum(maint[0])

	buying[0] = [(i+alpha)/float(sum(buying[0])+4*alpha) for i in buying[0]]
	maint[0] = [(i+alpha)/float(sum(maint[0])+4*alpha) for i in maint[0]]
	doors[0] = [(i+alpha)/float(sum(doors[0])+4*alpha) for i in doors[0]]
	persons[0] = [(i+alpha)/float(sum(persons[0])+4*alpha) for i in persons[0]]
	lug_boot[0] = [(i+alpha)/float(sum(lug_boot[0])+4*alpha) for i in lug_boot[0]]
	safety[0] = [(i+alpha)/float(sum(safety[0])+4*alpha) for i in safety[0]]

	buying[1] = [(i+alpha)/float(sum(buying[1])+4*alpha) for i in buying[1]]
	maint[1] = [(i+alpha)/float(sum(maint[1])+4*alpha) for i in maint[1]]
	doors[1] = [(i+alpha)/float(sum(doors[1])+4*alpha) for i in doors[1]]
	persons[1] = [(i+alpha)/float(sum(persons[1])+4*alpha) for i in persons[1]]
	lug_boot[1] = [(i+alpha)/float(sum(lug_boot[1])+4*alpha) for i in lug_boot[1]]
	safety[1] = [(i+alpha)/float(sum(safety[1])+4*alpha) for i in safety[1]]

	negtotal = negtotal/float(total)
	postotal = postotal/float(total)

	# print postotal

	return [buying,maint,doors,persons,lug_boot,safety,negtotal,postotal]



#create training set
testset = random.sample(range(1,total+1),num_test)
# print len(testset)
# print len(set(testset))

f = open('remappered.data')
count = 1
for line in f:
	words = line.split(',')
	if count not in testset:
		train_data.append([  [int(i) for i in words[:-1]] ,  int(words[-1:][0].strip('\n'))  ])
	else:
		test_data.append([  [int(i) for i in words[:-1]] ,  int(words[-1:][0].strip('\n'))  ])
	count += 1

# for i in range(len(train_data)):
# 	D.append(np.random.random_integers(len(train_data)))

# D = [i/float(sum(D)) for i in D]
# # D = [0]*num_train
# D[0] = 1 
# print D

# resampled_set = np.random.choice(num_train, num_train, replace=True, p=D)
# resampled_set = list(set(resampled_set))
# print sorted(resampled_set)[:30]
# print len(set(resampled_set))
# print sorted(list(set(resampled_set)))
# print num_train

# resampled_train_data = []
# for i in resampled_set:
# 	resampled_train_data.append(train_data[i])


# resampled_train_data = [[[2, 1, 1, 3, 3, 2], 1], [[1, 2, 3, 3, 1, 2], 1], [[4, 3, 3, 2, 2, 2], -1], [[2, 3, 1, 2, 3, 2], 1], [[2, 3, 4, 2, 3, 3], 1], [[2, 2, 3, 3, 3, 2], 1], [[3, 1, 3, 2, 2, 3], 1], [[3, 2, 4, 1, 1, 3], -1], [[2, 2, 2, 1, 3, 1], -1], [[2, 4, 3, 3, 3, 3], 1], [[4, 1, 2, 2, 2, 3], 1], [[2, 4, 4, 3, 2, 3], 1], [[1, 1, 2, 1, 3, 1], -1], [[4, 1, 4, 3, 2, 3], 1], [[2, 3, 3, 3, 2, 1], -1], [[4, 3, 1, 3, 2, 2], -1], [[4, 1, 1, 2, 3, 2], 1], [[2, 4, 4, 2, 2, 3], 1], [[4, 4, 4, 2, 2, 1], -1], [[4, 1, 2, 2, 2, 3], 1], [[3, 2, 4, 3, 2, 2], 1], [[1, 3, 4, 2, 1, 2], 1], [[1, 2, 1, 2, 3, 2], 1], [[2, 3, 3, 3, 1, 1], -1], [[4, 1, 1, 2, 1, 3], 1], [[1, 4, 3, 1, 1, 2], -1], [[2, 4, 4, 2, 2, 3], 1], [[3, 3, 3, 2, 2, 3], 1], [[1, 2, 2, 2, 3, 3], 1], [[1, 3, 2, 2, 3, 3], 1], [[3, 4, 4, 3, 1, 1], -1], [[2, 4, 2, 2, 1, 1], -1], [[4, 1, 4, 3, 1, 3], 1], [[1, 4, 4, 2, 1, 3], 1], [[3, 4, 1, 3, 1, 1], -1], [[2, 1, 1, 1, 1, 2], -1], [[2, 2, 3, 3, 2, 2], 1], [[4, 2, 3, 1, 2, 3], -1], [[2, 3, 3, 3, 2, 3], 1], [[4, 3, 4, 3, 2, 2], -1], [[2, 1, 4, 2, 1, 2], 1], [[1, 4, 3, 2, 3, 2], 1], [[3, 2, 4, 3, 2, 3], 1], [[2, 3, 3, 1, 3, 1], -1], [[1, 3, 3, 3, 2, 3], 1], [[2, 2, 3, 2, 3, 3], 1], [[4, 4, 4, 2, 2, 1], -1], [[3, 3, 3, 2, 2, 2], 1], [[1, 1, 2, 3, 3, 2], 1], [[3, 2, 2, 3, 1, 2], -1], [[1, 1, 1, 2, 1, 3], 1], [[2, 4, 4, 3, 3, 2], 1], [[1, 3, 3, 2, 3, 1], -1], [[4, 2, 1, 2, 3, 2], 1], [[1, 2, 2, 2, 1, 3], 1], [[2, 3, 2, 3, 1, 3], 1], [[3, 1, 3, 2, 3, 3], 1], [[1, 4, 3, 2, 3, 3], 1], [[1, 4, 4, 2, 3, 3], 1], [[1, 1, 2, 1, 2, 2], -1], [[1, 3, 3, 3, 1, 2], 1], [[3, 2, 3, 2, 2, 3], 1], [[1, 4, 3, 2, 3, 2], 1], [[3, 2, 1, 2, 3, 3], 1], [[4, 3, 3, 3, 2, 3], -1], [[2, 1, 3, 1, 3, 3], -1], [[1, 3, 2, 3, 2, 1], -1], [[3, 3, 3, 3, 1, 3], 1], [[1, 3, 1, 2, 1, 3], 1], [[1, 3, 4, 1, 1, 1], -1], [[1, 2, 1, 2, 2, 2], 1], [[2, 1, 2, 2, 3, 2], 1], [[2, 3, 4, 2, 3, 2], 1], [[4, 4, 2, 3, 3, 1], -1], [[2, 3, 4, 2, 3, 3], 1], [[1, 1, 2, 3, 3, 3], 1], [[1, 1, 4, 1, 2, 3], -1], [[1, 1, 2, 2, 2, 2], 1], [[4, 1, 3, 3, 2, 2], 1], [[1, 3, 1, 2, 1, 1], -1], [[4, 3, 1, 1, 3, 1], -1], [[2, 2, 2, 3, 2, 3], 1], [[3, 1, 3, 3, 2, 3], 1], [[3, 1, 3, 3, 2, 2], 1], [[1, 2, 1, 2, 3, 3], 1], [[4, 3, 3, 2, 2, 2], -1], [[3, 1, 1, 3, 2, 3], 1], [[4, 1, 4, 3, 2, 2], 1], [[1, 3, 2, 1, 3, 3], -1], [[2, 1, 3, 1, 3, 1], -1], [[3, 3, 4, 2, 3, 2], 1], [[2, 1, 4, 3, 3, 1], -1], [[4, 3, 4, 1, 2, 1], -1], [[4, 3, 2, 2, 2, 2], -1], [[4, 3, 2, 3, 3, 1], -1], [[4, 3, 4, 1, 3, 1], -1], [[1, 4, 3, 3, 3, 3], 1], [[2, 2, 4, 1, 3, 1], -1], [[2, 2, 3, 2, 3, 3], 1], [[2, 3, 3, 3, 1, 3], 1], [[1, 2, 1, 1, 2, 3], -1], [[2, 1, 1, 2, 1, 3], 1], [[2, 4, 2, 2, 3, 3], 1], [[1, 4, 3, 2, 2, 3], 1], [[1, 1, 4, 3, 1, 1], -1], [[1, 1, 3, 2, 1, 2], 1], [[4, 3, 3, 2, 2, 2], -1], [[4, 3, 3, 1, 3, 2], -1], [[4, 3, 3, 2, 2, 1], -1], [[3, 3, 3, 1, 1, 1], -1], [[3, 1, 3, 3, 3, 3], 1], [[2, 2, 3, 2, 1, 1], -1], [[4, 3, 1, 3, 3, 1], -1], [[1, 1, 4, 2, 2, 1], -1], [[2, 4, 4, 2, 2, 3], 1], [[2, 4, 1, 2, 3, 3], 1], [[3, 4, 1, 3, 1, 1], -1], [[3, 4, 3, 1, 2, 3], -1], [[1, 1, 4, 3, 2, 3], 1], [[2, 2, 2, 3, 3, 3], 1], [[3, 3, 3, 3, 3, 2], 1], [[1, 2, 4, 2, 2, 2], 1], [[1, 1, 4, 3, 3, 3], 1], [[1, 3, 4, 2, 3, 1], -1], [[1, 3, 4, 1, 2, 3], -1], [[1, 3, 4, 3, 1, 2], 1], [[2, 2, 4, 2, 2, 3], 1], [[1, 4, 1, 2, 2, 3], 1], [[1, 4, 3, 2, 2, 1], -1], [[2, 2, 2, 3, 2, 3], 1], [[3, 4, 4, 1, 2, 1], -1], [[2, 1, 2, 2, 3, 3], 1], [[4, 3, 4, 2, 1, 3], -1], [[3, 3, 4, 1, 2, 3], -1], [[2, 3, 4, 2, 3, 1], -1], [[1, 2, 3, 3, 2, 1], -1], [[2, 3, 1, 1, 2, 3], -1], [[4, 1, 1, 3, 3, 3], 1], [[1, 3, 2, 3, 1, 2], 1], [[2, 2, 4, 1, 2, 3], -1], [[1, 4, 1, 3, 3, 2], 1], [[4, 3, 4, 3, 1, 2], -1], [[1, 4, 2, 2, 3, 2], 1], [[2, 2, 3, 3, 1, 3], 1], [[3, 1, 4, 2, 3, 2], 1], [[2, 2, 2, 3, 1, 3], 1], [[3, 3, 1, 2, 3, 1], -1], [[2, 2, 4, 2, 3, 2], 1], [[2, 1, 3, 3, 3, 3], 1], [[1, 1, 4, 1, 2, 1], -1], [[1, 2, 2, 3, 1, 1], -1], [[2, 4, 2, 2, 2, 2], -1], [[4, 1, 1, 2, 1, 3], 1], [[4, 2, 3, 2, 3, 2], 1], [[2, 3, 4, 2, 2, 3], 1], [[4, 3, 2, 2, 1, 1], -1], [[1, 1, 2, 3, 3, 2], 1], [[4, 3, 1, 3, 3, 1], -1], [[4, 4, 2, 3, 1, 2], -1], [[2, 1, 3, 1, 3, 3], -1], [[3, 3, 3, 2, 3, 2], 1], [[3, 1, 1, 3, 1, 3], -1], [[3, 2, 4, 3, 3, 1], -1], [[4, 1, 1, 2, 1, 3], 1], [[2, 4, 4, 2, 3, 1], -1], [[4, 3, 1, 3, 1, 1], -1], [[2, 2, 3, 3, 1, 3], 1], [[1, 2, 2, 3, 2, 2], 1], [[2, 4, 1, 3, 2, 3], 1], [[1, 4, 4, 2, 2, 2], 1], [[3, 1, 2, 2, 3, 3], 1], [[2, 1, 4, 3, 3, 2], 1], [[2, 1, 4, 2, 2, 2], 1], [[2, 3, 4, 3, 3, 3], 1], [[3, 4, 3, 2, 1, 1], -1], [[4, 2, 4, 3, 3, 1], -1], [[4, 4, 3, 2, 2, 2], -1], [[1, 3, 3, 2, 3, 1], -1], [[1, 2, 1, 3, 3, 3], 1], [[2, 2, 4, 2, 2, 3], 1], [[2, 4, 3, 1, 3, 1], -1], [[2, 3, 3, 3, 3, 2], 1], [[3, 3, 4, 2, 3, 2], 1], [[2, 3, 1, 3, 3, 3], 1], [[1, 1, 4, 3, 3, 1], -1], [[2, 1, 2, 1, 3, 3], -1], [[2, 2, 2, 3, 1, 1], -1], [[1, 4, 2, 2, 1, 2], -1], [[2, 2, 2, 3, 3, 2], 1], [[2, 4, 2, 2, 2, 2], -1], [[1, 2, 2, 3, 3, 2], 1], [[1, 3, 1, 3, 3, 3], 1], [[3, 4, 1, 2, 3, 3], -1], [[4, 3, 4, 3, 3, 1], -1], [[1, 2, 3, 3, 2, 1], -1], [[1, 3, 3, 3, 1, 2], 1], [[1, 2, 4, 2, 3, 2], 1], [[4, 2, 3, 1, 1, 1], -1], [[2, 3, 2, 2, 2, 3], 1], [[1, 1, 3, 1, 2, 3], -1], [[1, 2, 3, 1, 1, 2], -1], [[3, 4, 3, 3, 1, 1], -1], [[4, 4, 2, 3, 2, 3], -1], [[4, 3, 4, 3, 1, 1], -1], [[2, 1, 3, 2, 3, 1], -1], [[1, 3, 4, 2, 3, 2], 1], [[4, 4, 2, 2, 3, 3], -1], [[2, 4, 4, 2, 3, 1], -1], [[2, 3, 2, 2, 3, 1], -1], [[2, 4, 1, 1, 1, 1], -1], [[1, 1, 4, 3, 1, 3], 1], [[4, 1, 3, 3, 1, 3], 1], [[2, 3, 1, 2, 2, 3], 1], [[1, 2, 3, 2, 2, 1], -1], [[2, 2, 2, 2, 3, 3], 1], [[2, 2, 4, 1, 2, 3], -1], [[2, 4, 4, 2, 2, 3], 1], [[1, 2, 1, 2, 2, 2], 1], [[1, 4, 2, 3, 2, 2], 1], [[2, 2, 1, 2, 2, 3], 1], [[2, 4, 4, 1, 2, 3], -1], [[3, 3, 4, 3, 1, 3], 1], [[1, 1, 3, 1, 2, 1], -1], [[2, 3, 2, 2, 3, 2], 1], [[3, 3, 1, 2, 1, 3], 1], [[2, 1, 4, 2, 1, 2], 1], [[4, 3, 1, 1, 3, 1], -1], [[1, 4, 3, 3, 3, 2], 1], [[1, 3, 4, 3, 3, 1], -1], [[4, 2, 4, 2, 3, 2], 1], [[4, 1, 1, 1, 2, 2], -1], [[2, 1, 4, 3, 3, 1], -1], [[2, 2, 4, 2, 3, 3], 1], [[1, 1, 3, 2, 3, 3], 1], [[4, 1, 1, 1, 2, 3], -1], [[3, 1, 1, 3, 3, 2], 1], [[4, 1, 4, 2, 3, 2], 1], [[2, 2, 2, 2, 1, 1], -1], [[4, 4, 2, 2, 3, 1], -1], [[4, 3, 2, 1, 3, 3], -1], [[4, 2, 3, 3, 3, 2], 1], [[2, 2, 3, 2, 3, 3], 1], [[1, 3, 3, 3, 3, 2], 1], [[1, 4, 1, 2, 3, 3], 1], [[4, 3, 4, 2, 3, 1], -1], [[2, 1, 2, 2, 3, 2], 1], [[2, 1, 2, 3, 3, 2], 1], [[1, 4, 3, 2, 2, 3], 1], [[2, 4, 3, 3, 2, 3], 1], [[3, 2, 1, 3, 3, 3], 1], [[3, 1, 4, 3, 3, 2], 1], [[1, 1, 4, 2, 3, 3], 1], [[3, 4, 2, 2, 2, 3], -1], [[4, 3, 3, 3, 3, 2], -1], [[2, 3, 1, 1, 3, 2], -1], [[4, 2, 3, 1, 1, 1], -1], [[1, 2, 4, 2, 1, 2], 1], [[3, 2, 1, 3, 2, 3], 1], [[2, 1, 2, 1, 1, 3], -1], [[2, 4, 3, 1, 2, 2], -1], [[4, 4, 2, 1, 2, 2], -1], [[1, 1, 1, 2, 3, 1], -1], [[3, 4, 4, 3, 2, 1], -1], [[3, 4, 2, 2, 3, 3], -1], [[1, 4, 4, 1, 3, 2], -1], [[2, 3, 3, 3, 3, 2], 1], [[2, 1, 4, 2, 3, 3], 1], [[3, 2, 1, 1, 1, 3], -1], [[1, 3, 4, 3, 1, 3], 1], [[2, 2, 4, 1, 1, 1], -1], [[2, 4, 3, 3, 2, 3], 1], [[2, 3, 3, 1, 2, 2], -1], [[3, 2, 1, 2, 3, 2], 1], [[1, 2, 1, 3, 1, 1], -1], [[3, 2, 4, 2, 2, 3], 1], [[4, 4, 4, 2, 2, 2], -1], [[1, 2, 3, 3, 1, 2], 1], [[1, 4, 4, 3, 1, 3], 1], [[1, 2, 2, 3, 2, 3], 1], [[1, 4, 4, 2, 2, 1], -1], [[2, 1, 2, 1, 2, 1], -1], [[3, 2, 3, 2, 3, 2], 1], [[4, 2, 2, 3, 2, 3], 1], [[3, 2, 2, 3, 3, 2], 1], [[4, 2, 2, 1, 2, 1], -1], [[3, 3, 4, 3, 3, 2], 1], [[2, 4, 4, 2, 2, 3], 1], [[4, 1, 1, 2, 1, 2], -1], [[2, 3, 3, 3, 1, 3], 1], [[1, 3, 4, 1, 2, 1], -1], [[4, 3, 2, 2, 1, 1], -1], [[3, 4, 1, 3, 1, 3], -1], [[1, 2, 3, 3, 1, 3], 1], [[2, 1, 3, 1, 1, 2], -1], [[1, 1, 2, 2, 1, 2], 1], [[2, 4, 3, 3, 2, 3], 1], [[3, 1, 3, 3, 2, 3], 1], [[4, 3, 4, 1, 1, 3], -1], [[2, 1, 4, 3, 3, 2], 1], [[3, 4, 3, 3, 1, 3], -1], [[3, 3, 3, 2, 3, 2], 1], [[4, 3, 4, 3, 1, 2], -1], [[2, 4, 1, 3, 2, 1], -1], [[1, 1, 2, 2, 3, 2], 1], [[2, 1, 2, 3, 1, 2], 1], [[3, 4, 2, 3, 3, 2], -1], [[2, 1, 4, 3, 3, 2], 1], [[3, 4, 1, 3, 3, 3], -1], [[2, 3, 4, 2, 3, 3], 1], [[1, 4, 2, 2, 1, 3], 1], [[1, 2, 1, 1, 2, 1], -1], [[4, 3, 4, 2, 2, 1], -1], [[3, 1, 4, 2, 3, 2], 1], [[4, 2, 4, 1, 1, 2], -1], [[1, 4, 4, 2, 1, 3], 1], [[2, 2, 3, 3, 1, 3], 1], [[2, 2, 2, 1, 1, 1], -1], [[2, 2, 4, 2, 2, 3], 1], [[2, 3, 4, 1, 1, 1], -1], [[2, 2, 3, 2, 2, 1], -1], [[4, 2, 2, 1, 1, 1], -1], [[3, 1, 1, 3, 2, 2], -1], [[2, 1, 4, 2, 1, 3], 1], [[2, 1, 3, 2, 3, 3], 1], [[1, 1, 1, 2, 3, 2], 1], [[3, 3, 2, 3, 3, 3], 1], [[1, 1, 3, 3, 1, 2], 1], [[3, 1, 1, 3, 3, 3], 1], [[4, 3, 4, 3, 1, 2], -1], [[4, 1, 1, 2, 3, 3], 1], [[1, 3, 2, 2, 3, 3], 1], [[1, 1, 3, 1, 1, 2], -1], [[2, 1, 4, 3, 2, 2], 1], [[2, 3, 4, 3, 1, 2], -1], [[1, 4, 2, 3, 3, 3], 1], [[2, 4, 4, 3, 3, 2], 1], [[2, 1, 4, 2, 1, 2], 1], [[2, 2, 2, 2, 3, 3], 1], [[2, 3, 4, 1, 3, 2], -1], [[4, 4, 3, 3, 2, 2], -1], [[1, 3, 2, 1, 1, 1], -1], [[2, 2, 2, 1, 2, 1], -1], [[3, 2, 1, 3, 3, 3], 1], [[1, 1, 1, 1, 3, 2], -1], [[1, 4, 1, 1, 3, 3], -1], [[3, 2, 4, 1, 2, 1], -1], [[1, 3, 3, 1, 3, 2], -1], [[1, 2, 3, 1, 1, 3], -1], [[2, 1, 1, 1, 1, 3], -1], [[2, 4, 3, 3, 2, 3], 1], [[1, 4, 3, 3, 3, 3], 1], [[3, 2, 4, 2, 3, 2], 1], [[1, 2, 1, 2, 1, 2], 1], [[2, 2, 2, 3, 1, 3], 1], [[4, 3, 1, 3, 3, 2], -1], [[2, 3, 3, 3, 2, 1], -1], [[1, 4, 2, 3, 3, 2], 1], [[2, 1, 2, 2, 3, 2], 1], [[3, 2, 3, 2, 1, 2], -1], [[1, 3, 4, 2, 3, 3], 1], [[2, 2, 4, 1, 3, 3], -1], [[1, 3, 4, 2, 1, 2], 1], [[2, 3, 4, 3, 2, 3], 1], [[1, 3, 3, 3, 1, 2], 1], [[2, 3, 2, 1, 3, 1], -1], [[3, 2, 4, 3, 3, 2], 1], [[1, 2, 2, 1, 3, 3], -1], [[3, 2, 3, 3, 1, 3], 1], [[4, 2, 3, 3, 2, 3], 1], [[1, 4, 4, 3, 1, 3], 1], [[3, 4, 4, 2, 1, 3], -1], [[2, 1, 2, 3, 1, 3], 1], [[3, 3, 4, 2, 3, 2], 1], [[4, 2, 4, 3, 1, 1], -1], [[3, 3, 1, 2, 3, 2], 1], [[3, 3, 2, 1, 1, 3], -1], [[4, 1, 1, 2, 3, 2], 1], [[3, 4, 2, 1, 3, 1], -1], [[2, 1, 4, 3, 2, 1], -1], [[2, 1, 3, 2, 3, 3], 1], [[3, 3, 2, 1, 2, 3], -1], [[4, 4, 2, 3, 3, 3], -1], [[1, 4, 1, 2, 3, 3], 1], [[1, 3, 3, 2, 1, 2], 1], [[3, 2, 4, 1, 1, 3], -1], [[4, 2, 3, 2, 3, 2], 1], [[1, 4, 1, 2, 1, 3], 1], [[2, 2, 2, 3, 1, 1], -1], [[3, 3, 3, 2, 3, 2], 1], [[1, 4, 4, 2, 1, 3], 1], [[2, 1, 2, 3, 3, 1], -1], [[4, 4, 1, 3, 1, 3], -1], [[2, 4, 2, 1, 1, 3], -1], [[4, 1, 4, 3, 1, 3], 1], [[4, 1, 1, 2, 1, 1], -1], [[4, 1, 4, 2, 2, 2], 1], [[1, 1, 1, 2, 2, 2], 1], [[2, 1, 4, 3, 1, 2], 1], [[2, 1, 1, 2, 1, 2], 1], [[2, 4, 4, 1, 2, 2], -1], [[4, 3, 2, 1, 1, 2], -1], [[1, 2, 2, 2, 1, 3], 1], [[4, 4, 1, 1, 2, 1], -1], [[1, 3, 2, 2, 3, 3], 1], [[4, 3, 4, 3, 3, 1], -1], [[3, 2, 4, 2, 1, 1], -1], [[2, 2, 4, 1, 2, 3], -1], [[4, 4, 2, 2, 3, 3], -1], [[1, 4, 4, 2, 1, 3], 1], [[2, 3, 2, 3, 1, 2], -1], [[4, 1, 3, 3, 1, 3], 1], [[4, 1, 1, 2, 1, 2], -1], [[1, 1, 4, 3, 1, 2], 1], [[2, 3, 1, 1, 1, 3], -1], [[1, 4, 4, 3, 2, 2], 1], [[4, 1, 3, 2, 1, 1], -1], [[1, 4, 3, 1, 2, 3], -1], [[2, 1, 3, 3, 3, 2], 1], [[4, 3, 4, 3, 2, 1], -1], [[2, 1, 2, 3, 1, 2], 1], [[3, 2, 3, 2, 3, 2], 1], [[3, 1, 2, 1, 2, 2], -1], [[1, 2, 1, 3, 3, 3], 1], [[1, 1, 3, 3, 1, 2], 1], [[4, 3, 1, 3, 1, 2], -1], [[2, 4, 3, 2, 3, 3], 1], [[2, 3, 4, 1, 3, 2], -1], [[2, 3, 1, 1, 3, 3], -1], [[1, 2, 2, 2, 3, 3], 1], [[3, 1, 1, 3, 1, 1], -1], [[1, 3, 3, 2, 3, 3], 1], [[3, 2, 2, 3, 1, 2], -1], [[4, 1, 1, 2, 1, 3], 1], [[2, 2, 2, 2, 2, 2], 1], [[4, 1, 4, 1, 1, 3], -1], [[2, 2, 1, 3, 1, 2], -1], [[4, 2, 3, 2, 2, 1], -1], [[1, 3, 4, 3, 2, 3], 1], [[1, 3, 3, 3, 1, 2], 1], [[1, 4, 3, 1, 2, 2], -1], [[1, 1, 1, 1, 1, 1], -1], [[3, 1, 3, 3, 3, 2], 1], [[3, 3, 4, 3, 3, 2], 1], [[3, 1, 4, 2, 2, 1], -1], [[4, 2, 4, 2, 2, 3], 1], [[2, 4, 4, 2, 1, 1], -1], [[4, 2, 2, 1, 2, 1], -1], [[3, 1, 2, 1, 2, 1], -1], [[4, 2, 3, 3, 2, 3], 1], [[1, 3, 4, 2, 3, 3], 1], [[3, 1, 1, 2, 3, 2], 1], [[3, 3, 1, 2, 2, 3], 1], [[4, 1, 1, 3, 3, 2], 1], [[2, 4, 2, 3, 1, 3], 1], [[4, 3, 3, 2, 2, 1], -1], [[1, 2, 3, 1, 1, 2], -1], [[2, 3, 4, 1, 3, 2], -1], [[1, 2, 2, 3, 1, 3], 1], [[3, 3, 4, 3, 2, 2], 1], [[4, 3, 1, 3, 1, 1], -1], [[2, 1, 1, 3, 2, 1], -1], [[1, 1, 2, 2, 3, 2], 1], [[4, 3, 4, 2, 3, 1], -1], [[1, 3, 1, 3, 3, 3], 1], [[1, 1, 1, 1, 1, 1], -1], [[1, 3, 2, 2, 1, 2], 1], [[3, 1, 1, 2, 3, 1], -1], [[2, 4, 4, 2, 2, 3], 1], [[1, 3, 1, 2, 2, 2], 1], [[1, 4, 3, 3, 3, 2], 1], [[4, 2, 1, 1, 2, 1], -1], [[2, 2, 4, 1, 2, 3], -1], [[1, 1, 2, 3, 1, 3], 1], [[2, 1, 3, 2, 3, 3], 1], [[1, 3, 4, 2, 3, 1], -1], [[4, 2, 1, 3, 2, 1], -1], [[4, 2, 4, 1, 2, 2], -1], [[4, 2, 1, 1, 1, 2], -1], [[1, 3, 3, 1, 1, 1], -1], [[2, 3, 2, 2, 1, 3], 1], [[4, 2, 3, 2, 2, 1], -1], [[3, 2, 1, 2, 3, 2], 1], [[4, 3, 3, 1, 3, 1], -1], [[4, 2, 2, 3, 2, 1], -1], [[1, 4, 1, 2, 2, 1], -1], [[1, 3, 4, 2, 3, 2], 1], [[2, 4, 2, 1, 1, 1], -1], [[3, 2, 4, 3, 3, 1], -1], [[2, 1, 3, 1, 2, 3], -1], [[4, 3, 1, 3, 3, 2], -1], [[1, 4, 3, 3, 3, 2], 1], [[2, 4, 3, 1, 3, 1], -1], [[2, 1, 4, 2, 2, 1], -1], [[3, 4, 3, 2, 1, 1], -1], [[1, 4, 2, 1, 1, 2], -1], [[3, 4, 4, 2, 1, 2], -1], [[1, 4, 1, 1, 1, 1], -1], [[4, 2, 2, 3, 2, 3], 1], [[4, 1, 3, 3, 1, 3], 1], [[2, 4, 1, 1, 2, 1], -1], [[3, 1, 1, 2, 1, 3], 1], [[2, 3, 2, 1, 1, 2], -1], [[1, 3, 3, 3, 2, 3], 1], [[2, 1, 1, 1, 1, 3], -1], [[1, 2, 1, 1, 2, 1], -1], [[4, 4, 2, 3, 1, 3], -1], [[2, 2, 2, 2, 3, 2], 1], [[2, 3, 2, 2, 2, 1], -1], [[1, 1, 4, 3, 3, 2], 1], [[2, 1, 1, 3, 2, 3], 1], [[2, 3, 1, 3, 3, 1], -1], [[2, 3, 2, 3, 2, 2], 1], [[4, 3, 4, 2, 3, 3], -1], [[1, 3, 3, 3, 3, 3], 1], [[4, 4, 3, 3, 3, 1], -1], [[1, 4, 4, 3, 1, 3], 1], [[1, 1, 4, 3, 2, 2], 1], [[3, 1, 2, 2, 2, 1], -1], [[2, 2, 1, 1, 1, 3], -1], [[3, 3, 2, 3, 1, 1], -1], [[3, 2, 1, 3, 3, 3], 1], [[4, 2, 1, 1, 3, 1], -1], [[2, 3, 4, 3, 3, 2], 1], [[3, 2, 2, 1, 3, 1], -1], [[2, 4, 4, 1, 3, 1], -1], [[1, 4, 3, 3, 2, 1], -1], [[4, 1, 1, 2, 2, 2], -1], [[3, 3, 4, 3, 3, 2], 1], [[4, 1, 4, 3, 1, 3], 1], [[2, 2, 4, 3, 1, 1], -1], [[3, 4, 3, 2, 1, 1], -1], [[2, 3, 3, 2, 2, 2], 1], [[1, 1, 4, 2, 3, 2], 1], [[3, 4, 1, 3, 2, 1], -1], [[2, 3, 3, 3, 3, 3], 1], [[2, 1, 4, 3, 2, 1], -1], [[1, 2, 3, 2, 3, 3], 1], [[1, 1, 1, 3, 3, 2], 1], [[1, 3, 2, 2, 3, 3], 1], [[2, 2, 1, 2, 3, 3], 1], [[3, 3, 2, 3, 1, 3], 1], [[1, 4, 4, 1, 2, 1], -1], [[4, 4, 3, 1, 1, 2], -1], [[2, 2, 2, 2, 2, 2], 1], [[4, 4, 3, 2, 3, 2], -1], [[4, 2, 2, 1, 1, 2], -1], [[2, 1, 2, 1, 2, 2], -1], [[3, 1, 1, 2, 3, 2], 1], [[1, 3, 1, 1, 3, 1], -1], [[1, 3, 1, 1, 2, 2], -1], [[2, 3, 3, 3, 3, 3], 1], [[2, 2, 2, 1, 1, 1], -1], [[2, 4, 2, 3, 2, 2], 1], [[2, 3, 2, 2, 2, 1], -1], [[2, 3, 4, 2, 2, 3], 1], [[1, 3, 4, 2, 3, 2], 1], [[1, 3, 3, 2, 3, 2], 1], [[1, 2, 2, 1, 3, 1], -1], [[2, 3, 1, 3, 3, 1], -1], [[3, 2, 2, 2, 3, 2], 1], [[4, 3, 1, 3, 2, 1], -1], [[2, 3, 4, 2, 3, 3], 1], [[3, 1, 4, 2, 3, 2], 1], [[3, 4, 1, 1, 1, 3], -1], [[2, 3, 1, 2, 3, 2], 1], [[3, 4, 1, 3, 1, 1], -1], [[2, 1, 4, 2, 3, 3], 1], [[4, 2, 1, 2, 2, 1], -1], [[3, 2, 2, 2, 3, 2], 1], [[2, 2, 3, 2, 3, 3], 1], [[3, 2, 2, 2, 3, 2], 1], [[2, 2, 4, 2, 1, 2], 1], [[3, 4, 4, 3, 1, 1], -1], [[3, 3, 2, 3, 3, 2], 1], [[4, 3, 2, 3, 3, 1], -1], [[1, 4, 3, 3, 2, 1], -1], [[2, 1, 1, 1, 3, 1], -1], [[3, 3, 1, 3, 1, 1], -1], [[4, 4, 1, 2, 3, 3], -1], [[1, 1, 4, 3, 2, 2], 1], [[3, 3, 3, 3, 3, 2], 1], [[1, 1, 4, 2, 3, 2], 1], [[2, 3, 3, 3, 3, 2], 1], [[2, 3, 2, 2, 2, 2], -1], [[1, 2, 3, 3, 3, 2], 1], [[2, 3, 3, 2, 3, 2], 1], [[4, 1, 4, 1, 1, 3], -1], [[4, 3, 2, 2, 3, 2], -1], [[1, 1, 2, 3, 1, 3], 1], [[4, 2, 2, 2, 1, 2], -1], [[2, 3, 2, 1, 2, 1], -1], [[1, 3, 3, 2, 1, 2], 1], [[4, 4, 3, 1, 1, 2], -1], [[1, 2, 4, 3, 3, 3], 1], [[2, 3, 3, 1, 2, 2], -1], [[2, 4, 4, 2, 3, 2], 1], [[1, 3, 1, 3, 2, 3], 1], [[1, 1, 3, 2, 3, 3], 1], [[1, 4, 1, 1, 1, 1], -1], [[2, 1, 2, 1, 2, 1], -1], [[3, 3, 2, 3, 1, 2], -1], [[1, 1, 4, 2, 2, 2], 1], [[4, 1, 1, 2, 1, 3], 1], [[4, 1, 2, 2, 1, 2], -1], [[2, 2, 2, 1, 1, 2], -1], [[3, 4, 4, 1, 1, 3], -1], [[4, 1, 1, 1, 2, 1], -1], [[2, 1, 3, 3, 3, 3], 1], [[3, 1, 3, 1, 1, 3], -1], [[1, 2, 1, 3, 1, 3], -1], [[1, 3, 4, 2, 3, 3], 1], [[2, 3, 2, 2, 1, 3], 1], [[3, 2, 2, 3, 1, 3], 1], [[1, 4, 4, 1, 1, 1], -1], [[2, 1, 2, 2, 3, 3], 1], [[1, 1, 4, 2, 3, 2], 1], [[2, 1, 2, 2, 3, 2], 1], [[1, 2, 1, 3, 3, 3], 1], [[3, 3, 3, 3, 2, 3], 1], [[3, 3, 2, 3, 3, 2], 1], [[4, 1, 2, 2, 3, 2], 1], [[4, 3, 1, 3, 3, 2], -1], [[1, 2, 4, 2, 1, 1], -1], [[2, 1, 2, 1, 1, 3], -1], [[4, 4, 3, 1, 3, 3], -1], [[1, 4, 4, 3, 3, 3], 1], [[1, 3, 1, 3, 2, 2], 1], [[1, 1, 2, 2, 2, 2], 1], [[2, 2, 1, 1, 3, 2], -1], [[2, 4, 1, 1, 3, 3], -1], [[1, 2, 3, 2, 3, 3], 1], [[3, 2, 3, 2, 3, 3], 1], [[2, 3, 4, 3, 3, 2], 1], [[1, 4, 2, 2, 2, 3], 1], [[4, 1, 2, 2, 2, 3], 1], [[2, 3, 1, 2, 3, 3], 1], [[1, 3, 2, 1, 1, 3], -1], [[4, 4, 2, 1, 3, 2], -1], [[3, 1, 3, 3, 3, 1], -1], [[2, 2, 2, 1, 3, 2], -1], [[3, 2, 4, 2, 2, 2], 1], [[3, 4, 4, 3, 3, 2], -1], [[3, 2, 4, 3, 1, 2], -1], [[4, 4, 2, 3, 3, 3], -1], [[1, 1, 3, 2, 2, 3], 1], [[2, 2, 3, 3, 3, 2], 1], [[3, 1, 2, 3, 1, 3], 1], [[1, 2, 2, 1, 1, 3], -1], [[2, 3, 1, 3, 1, 2], -1], [[3, 1, 1, 2, 1, 3], 1], [[1, 1, 2, 2, 2, 2], 1], [[3, 4, 4, 2, 1, 2], -1], [[1, 4, 1, 1, 3, 3], -1], [[1, 1, 1, 2, 2, 2], 1], [[4, 2, 4, 1, 2, 1], -1], [[1, 1, 2, 1, 3, 3], -1], [[2, 1, 2, 3, 1, 3], 1], [[4, 4, 4, 2, 3, 3], -1], [[1, 4, 2, 3, 2, 1], -1], [[1, 2, 2, 3, 2, 3], 1], [[2, 3, 3, 2, 2, 3], 1], [[1, 2, 1, 2, 1, 2], 1], [[2, 2, 4, 1, 3, 1], -1], [[4, 2, 4, 2, 2, 3], 1], [[2, 1, 3, 2, 3, 1], -1], [[4, 4, 3, 3, 1, 3], -1], [[1, 1, 2, 1, 3, 1], -1], [[3, 2, 4, 2, 2, 3], 1], [[1, 2, 2, 3, 2, 3], 1], [[3, 2, 4, 3, 3, 3], 1], [[2, 1, 2, 3, 3, 1], -1], [[2, 1, 3, 3, 1, 1], -1], [[2, 1, 4, 3, 2, 3], 1], [[1, 2, 3, 3, 1, 2], 1], [[4, 4, 2, 2, 2, 2], -1], [[1, 2, 4, 1, 2, 3], -1], [[2, 4, 2, 1, 3, 2], -1], [[2, 2, 3, 2, 2, 3], 1], [[4, 2, 4, 2, 3, 2], 1], [[4, 1, 2, 1, 3, 3], -1], [[4, 1, 4, 3, 2, 3], 1], [[1, 2, 3, 3, 1, 2], 1], [[2, 2, 2, 3, 1, 1], -1], [[3, 3, 3, 1, 3, 3], -1], [[3, 1, 1, 2, 3, 2], 1], [[4, 4, 1, 2, 1, 3], -1], [[4, 2, 4, 2, 2, 3], 1], [[3, 1, 3, 3, 2, 2], 1], [[4, 1, 2, 3, 3, 2], 1], [[4, 2, 3, 3, 2, 1], -1], [[3, 4, 3, 1, 2, 3], -1], [[3, 2, 2, 3, 3, 1], -1], [[1, 4, 1, 3, 1, 3], -1], [[2, 1, 3, 2, 3, 1], -1], [[3, 2, 3, 2, 3, 2], 1], [[2, 2, 4, 2, 2, 2], 1], [[2, 1, 2, 2, 3, 2], 1], [[1, 2, 1, 1, 2, 3], -1], [[1, 2, 2, 2, 3, 3], 1], [[1, 2, 3, 3, 1, 3], 1], [[1, 4, 4, 2, 3, 2], 1], [[1, 1, 3, 3, 2, 2], 1], [[4, 2, 3, 1, 1, 2], -1], [[3, 1, 4, 2, 2, 1], -1], [[1, 3, 1, 3, 3, 3], 1], [[1, 1, 3, 2, 3, 3], 1], [[3, 2, 2, 3, 3, 1], -1], [[2, 2, 2, 2, 3, 2], 1], [[3, 2, 1, 2, 3, 2], 1], [[1, 2, 1, 2, 3, 3], 1], [[2, 4, 2, 1, 1, 2], -1], [[2, 1, 2, 1, 1, 3], -1], [[4, 2, 3, 1, 1, 3], -1], [[4, 1, 3, 3, 2, 2], 1], [[3, 2, 4, 2, 2, 3], 1], [[3, 1, 3, 2, 2, 2], 1], [[3, 4, 4, 3, 1, 1], -1], [[2, 4, 3, 1, 1, 2], -1], [[1, 4, 2, 3, 2, 2], 1], [[3, 2, 1, 3, 1, 1], -1], [[2, 4, 3, 3, 3, 3], 1], [[2, 1, 4, 3, 3, 2], 1], [[1, 2, 1, 2, 3, 2], 1], [[3, 3, 2, 2, 1, 3], 1], [[3, 1, 1, 3, 2, 2], -1], [[2, 3, 1, 2, 2, 2], -1], [[3, 4, 3, 3, 3, 1], -1], [[1, 3, 1, 1, 2, 2], -1], [[1, 1, 2, 3, 3, 2], 1], [[3, 3, 1, 2, 2, 3], 1], [[4, 4, 3, 1, 2, 2], -1], [[3, 2, 4, 3, 3, 1], -1], [[4, 2, 2, 2, 3, 2], 1], [[4, 3, 4, 1, 3, 3], -1], [[2, 4, 3, 2, 1, 1], -1], [[1, 2, 4, 3, 2, 2], 1], [[4, 3, 4, 1, 2, 1], -1], [[2, 3, 3, 2, 3, 2], 1], [[2, 4, 2, 3, 1, 2], -1], [[2, 1, 4, 2, 1, 2], 1], [[2, 2, 1, 1, 2, 3], -1], [[3, 2, 4, 2, 2, 2], 1], [[2, 3, 2, 1, 2, 2], -1], [[4, 1, 2, 3, 1, 1], -1], [[2, 4, 3, 1, 3, 3], -1], [[2, 3, 2, 2, 2, 3], 1], [[3, 4, 4, 2, 2, 2], -1], [[2, 4, 4, 2, 3, 3], 1], [[2, 1, 1, 2, 1, 2], 1], [[3, 2, 2, 2, 1, 2], -1], [[3, 2, 2, 2, 1, 1], -1], [[1, 1, 2, 3, 1, 3], 1], [[2, 2, 2, 2, 1, 1], -1], [[4, 1, 2, 1, 2, 3], -1], [[3, 1, 2, 2, 3, 2], 1], [[2, 3, 3, 2, 3, 3], 1], [[2, 4, 1, 3, 1, 3], -1], [[2, 2, 1, 2, 2, 2], 1], [[1, 4, 4, 2, 3, 2], 1], [[3, 3, 1, 2, 2, 3], 1], [[1, 1, 2, 3, 3, 2], 1], [[3, 2, 2, 1, 2, 1], -1], [[4, 1, 3, 2, 3, 3], 1], [[2, 1, 4, 2, 3, 3], 1], [[2, 4, 4, 2, 1, 1], -1], [[2, 2, 3, 2, 1, 1], -1], [[1, 4, 4, 2, 3, 2], 1], [[3, 3, 2, 3, 1, 1], -1], [[3, 1, 2, 1, 2, 2], -1], [[3, 1, 1, 1, 2, 1], -1], [[1, 1, 2, 2, 3, 2], 1], [[2, 2, 4, 2, 3, 2], 1], [[2, 2, 4, 2, 3, 2], 1], [[1, 2, 3, 2, 3, 3], 1], [[2, 3, 3, 3, 3, 2], 1], [[1, 3, 4, 3, 1, 2], 1], [[2, 3, 4, 1, 1, 3], -1], [[1, 3, 3, 1, 1, 3], -1], [[2, 3, 1, 1, 1, 3], -1], [[2, 4, 4, 1, 2, 2], -1], [[1, 1, 4, 2, 2, 1], -1], [[4, 4, 2, 2, 2, 2], -1], [[3, 2, 1, 3, 2, 2], -1], [[3, 3, 2, 2, 3, 2], 1], [[4, 3, 3, 3, 1, 3], -1], [[2, 4, 1, 3, 2, 3], 1], [[2, 4, 2, 3, 2, 2], 1], [[1, 4, 4, 3, 2, 1], -1], [[4, 2, 1, 3, 2, 2], -1], [[1, 3, 3, 3, 3, 2], 1], [[1, 2, 1, 3, 3, 3], 1], [[2, 1, 1, 2, 1, 3], 1], [[3, 3, 1, 1, 1, 1], -1], [[1, 1, 4, 3, 2, 2], 1], [[1, 4, 2, 3, 2, 1], -1], [[3, 1, 4, 2, 3, 2], 1], [[1, 4, 3, 2, 3, 2], 1], [[1, 1, 4, 3, 3, 2], 1], [[1, 3, 4, 1, 3, 3], -1], [[4, 3, 4, 3, 1, 1], -1], [[3, 2, 1, 1, 2, 2], -1], [[1, 4, 1, 2, 1, 3], 1], [[3, 3, 2, 2, 2, 1], -1], [[3, 2, 2, 3, 2, 3], 1], [[3, 2, 2, 3, 1, 2], -1], [[4, 1, 2, 1, 1, 1], -1], [[1, 4, 3, 1, 2, 1], -1], [[4, 4, 4, 1, 2, 3], -1], [[1, 2, 2, 3, 3, 2], 1], [[1, 3, 4, 2, 3, 3], 1], [[1, 3, 3, 1, 1, 1], -1], [[3, 3, 4, 3, 3, 2], 1], [[2, 2, 3, 2, 3, 3], 1], [[3, 1, 1, 3, 2, 2], -1], [[1, 1, 2, 3, 3, 3], 1], [[2, 3, 1, 2, 2, 3], 1], [[3, 4, 1, 3, 1, 1], -1], [[1, 4, 1, 2, 2, 3], 1], [[1, 1, 3, 2, 3, 3], 1], [[2, 1, 3, 3, 3, 1], -1], [[1, 4, 3, 2, 2, 3], 1], [[2, 1, 4, 2, 2, 2], 1], [[4, 3, 3, 1, 1, 3], -1], [[1, 2, 2, 2, 3, 3], 1], [[4, 4, 3, 2, 2, 3], -1], [[3, 1, 3, 3, 2, 1], -1], [[3, 4, 1, 1, 1, 3], -1], [[2, 2, 1, 1, 1, 1], -1], [[1, 2, 2, 1, 1, 3], -1], [[1, 1, 2, 3, 3, 2], 1], [[1, 4, 4, 3, 2, 1], -1], [[3, 3, 3, 3, 3, 3], 1], [[1, 4, 3, 3, 2, 3], 1], [[1, 1, 1, 2, 3, 2], 1], [[4, 3, 2, 3, 2, 1], -1], [[1, 4, 1, 2, 2, 3], 1], [[3, 1, 4, 3, 3, 2], 1], [[2, 2, 3, 3, 2, 2], 1], [[2, 2, 2, 3, 2, 3], 1], [[2, 3, 4, 3, 2, 3], 1], [[1, 2, 4, 2, 3, 2], 1], [[2, 1, 4, 1, 3, 1], -1], [[1, 1, 4, 2, 3, 3], 1], [[1, 3, 3, 3, 1, 2], 1], [[1, 4, 4, 3, 1, 3], 1], [[4, 4, 4, 2, 1, 3], -1], [[2, 2, 2, 1, 3, 2], -1], [[3, 2, 2, 3, 1, 2], -1], [[2, 3, 4, 2, 3, 3], 1], [[1, 4, 3, 3, 3, 3], 1], [[4, 3, 4, 2, 3, 3], -1], [[2, 4, 2, 2, 1, 1], -1], [[4, 3, 4, 3, 3, 1], -1], [[4, 1, 3, 3, 2, 2], 1], [[1, 3, 1, 2, 2, 3], 1], [[3, 2, 2, 3, 1, 3], 1], [[2, 4, 3, 3, 2, 3], 1], [[1, 3, 2, 3, 2, 3], 1], [[1, 1, 4, 3, 2, 3], 1], [[4, 3, 4, 3, 2, 3], -1], [[3, 1, 4, 3, 3, 2], 1], [[1, 2, 4, 2, 1, 2], 1], [[2, 3, 3, 2, 2, 3], 1], [[3, 3, 2, 2, 2, 1], -1], [[4, 1, 4, 3, 2, 2], 1], [[4, 3, 3, 3, 2, 3], -1], [[3, 2, 1, 3, 1, 1], -1], [[3, 2, 2, 3, 3, 2], 1], [[2, 3, 2, 3, 2, 3], 1], [[2, 4, 1, 2, 1, 1], -1], [[4, 2, 1, 1, 3, 1], -1], [[4, 4, 3, 1, 1, 2], -1], [[2, 3, 4, 3, 2, 1], -1], [[3, 2, 2, 2, 1, 3], 1], [[2, 2, 2, 3, 3, 2], 1], [[1, 2, 2, 1, 3, 1], -1], [[1, 2, 3, 2, 3, 3], 1], [[1, 1, 4, 3, 3, 2], 1], [[3, 2, 2, 2, 2, 3], 1], [[1, 3, 2, 3, 1, 2], 1], [[4, 2, 2, 1, 1, 1], -1], [[3, 1, 4, 1, 3, 3], -1], [[2, 3, 4, 3, 3, 1], -1], [[2, 3, 3, 2, 3, 1], -1], [[1, 1, 3, 1, 1, 1], -1], [[2, 4, 3, 3, 1, 3], 1], [[4, 4, 3, 2, 2, 2], -1], [[3, 1, 2, 3, 3, 3], 1], [[2, 1, 2, 3, 3, 1], -1], [[3, 4, 4, 3, 1, 3], -1], [[4, 3, 2, 3, 3, 2], -1], [[1, 2, 3, 3, 1, 2], 1], [[2, 1, 4, 2, 1, 2], 1], [[4, 1, 4, 3, 2, 3], 1], [[2, 3, 3, 2, 2, 2], 1], [[1, 3, 1, 3, 1, 2], -1], [[3, 2, 2, 1, 3, 1], -1], [[3, 4, 4, 2, 1, 1], -1], [[4, 2, 4, 1, 1, 1], -1], [[1, 3, 3, 3, 3, 2], 1], [[4, 3, 3, 2, 2, 1], -1], [[3, 3, 4, 2, 3, 2], 1], [[3, 2, 3, 3, 2, 3], 1], [[2, 3, 1, 2, 1, 1], -1], [[3, 3, 1, 2, 2, 1], -1], [[4, 4, 4, 1, 2, 3], -1], [[1, 4, 1, 3, 3, 3], 1], [[4, 1, 2, 2, 3, 2], 1], [[1, 2, 2, 1, 3, 1], -1], [[1, 3, 4, 2, 3, 2], 1], [[1, 4, 4, 2, 3, 3], 1], [[1, 3, 1, 2, 2, 3], 1], [[2, 4, 2, 2, 1, 1], -1], [[4, 4, 3, 1, 1, 3], -1], [[4, 1, 1, 3, 1, 3], -1], [[4, 1, 1, 3, 3, 2], 1], [[3, 4, 4, 3, 1, 1], -1], [[2, 4, 1, 1, 2, 1], -1], [[3, 3, 2, 1, 1, 1], -1], [[1, 3, 2, 2, 2, 1], -1], [[2, 1, 1, 3, 3, 2], 1], [[4, 2, 2, 1, 2, 1], -1], [[1, 1, 4, 3, 2, 2], 1], [[2, 1, 2, 1, 1, 1], -1], [[3, 2, 2, 1, 1, 3], -1], [[4, 2, 3, 3, 3, 3], 1], [[4, 3, 1, 2, 1, 1], -1], [[2, 3, 2, 2, 3, 2], 1], [[1, 1, 2, 3, 3, 3], 1], [[3, 3, 2, 3, 3, 1], -1], [[1, 2, 2, 2, 3, 3], 1], [[3, 1, 3, 3, 3, 3], 1], [[1, 1, 3, 1, 2, 3], -1], [[1, 3, 3, 1, 2, 1], -1], [[4, 2, 2, 2, 1, 2], -1], [[1, 4, 3, 1, 1, 3], -1], [[3, 3, 4, 2, 3, 2], 1], [[1, 1, 1, 2, 1, 3], 1], [[4, 4, 1, 3, 1, 3], -1], [[1, 3, 2, 3, 2, 1], -1], [[1, 3, 4, 2, 3, 2], 1], [[1, 3, 4, 1, 2, 3], -1], [[4, 2, 2, 2, 1, 1], -1], [[4, 4, 1, 1, 3, 1], -1], [[2, 3, 2, 1, 3, 3], -1], [[1, 3, 2, 2, 3, 3], 1], [[4, 3, 3, 3, 2, 2], -1], [[1, 2, 3, 1, 3, 2], -1], [[3, 2, 4, 3, 1, 3], 1], [[3, 2, 4, 3, 1, 1], -1], [[4, 1, 4, 3, 3, 2], 1], [[2, 1, 1, 3, 3, 1], -1], [[1, 4, 2, 3, 3, 2], 1], [[2, 3, 2, 1, 1, 2], -1], [[1, 3, 1, 1, 3, 1], -1], [[2, 4, 3, 2, 2, 2], 1], [[2, 1, 4, 2, 2, 2], 1], [[4, 1, 1, 3, 3, 3], 1], [[2, 4, 3, 3, 1, 1], -1], [[3, 4, 4, 1, 2, 1], -1], [[4, 2, 3, 3, 3, 2], 1], [[1, 2, 1, 3, 1, 1], -1], [[3, 1, 3, 3, 3, 3], 1], [[2, 4, 2, 2, 1, 3], 1], [[2, 1, 4, 2, 1, 2], 1], [[4, 3, 2, 3, 3, 3], -1], [[1, 2, 2, 2, 3, 3], 1], [[3, 1, 1, 3, 3, 3], 1], [[3, 4, 3, 3, 3, 3], -1], [[3, 1, 2, 1, 2, 2], -1], [[2, 1, 4, 2, 1, 3], 1], [[2, 1, 3, 2, 3, 3], 1], [[3, 3, 4, 2, 1, 1], -1], [[3, 3, 4, 1, 2, 2], -1], [[4, 1, 1, 1, 3, 3], -1], [[1, 3, 2, 3, 2, 3], 1], [[2, 3, 2, 2, 3, 1], -1], [[1, 3, 1, 2, 3, 2], 1], [[2, 3, 2, 2, 3, 3], 1], [[2, 4, 2, 2, 1, 1], -1], [[3, 2, 4, 1, 2, 1], -1], [[2, 4, 1, 2, 3, 3], 1], [[2, 3, 2, 2, 2, 3], 1], [[4, 2, 3, 2, 3, 2], 1], [[3, 3, 2, 3, 2, 2], 1], [[2, 3, 3, 1, 3, 1], -1], [[3, 1, 3, 3, 2, 1], -1], [[3, 2, 2, 2, 1, 2], -1], [[3, 3, 3, 3, 3, 2], 1], [[3, 4, 2, 3, 3, 1], -1], [[3, 1, 1, 3, 3, 3], 1], [[2, 4, 4, 2, 3, 2], 1], [[4, 3, 4, 1, 2, 1], -1], [[1, 4, 3, 2, 3, 2], 1], [[3, 4, 4, 1, 1, 3], -1], [[3, 2, 3, 1, 2, 2], -1], [[3, 1, 2, 3, 3, 3], 1], [[3, 2, 4, 3, 3, 2], 1], [[4, 1, 1, 3, 1, 3], -1], [[1, 4, 4, 1, 2, 1], -1], [[3, 2, 1, 2, 1, 1], -1], [[2, 4, 1, 3, 1, 2], -1], [[1, 4, 4, 3, 1, 3], 1], [[3, 3, 3, 3, 2, 1], -1], [[1, 3, 2, 2, 2, 2], 1], [[3, 3, 3, 3, 2, 3], 1], [[2, 3, 2, 3, 1, 3], 1], [[4, 2, 1, 2, 2, 1], -1], [[3, 2, 4, 3, 1, 2], -1], [[3, 1, 2, 3, 2, 3], 1], [[3, 1, 3, 3, 2, 2], 1], [[3, 1, 2, 3, 1, 3], 1], [[1, 4, 4, 3, 2, 1], -1], [[4, 1, 4, 3, 3, 2], 1], [[1, 1, 4, 3, 1, 2], 1], [[2, 3, 2, 2, 2, 2], -1], [[3, 1, 4, 3, 1, 2], -1], [[2, 2, 2, 3, 1, 2], 1], [[3, 3, 4, 1, 2, 2], -1], [[1, 2, 3, 3, 1, 2], 1], [[3, 4, 1, 1, 1, 1], -1], [[2, 2, 1, 1, 3, 2], -1], [[2, 1, 1, 2, 3, 3], 1], [[1, 4, 1, 2, 3, 2], 1], [[1, 3, 3, 3, 1, 3], 1], [[3, 3, 3, 1, 1, 1], -1], [[3, 2, 2, 2, 1, 2], -1], [[1, 4, 3, 3, 2, 3], 1], [[1, 1, 2, 3, 2, 3], 1], [[1, 3, 1, 1, 2, 2], -1], [[4, 1, 3, 3, 1, 3], 1], [[2, 4, 1, 2, 1, 1], -1], [[3, 3, 4, 3, 2, 1], -1], [[1, 4, 3, 3, 3, 3], 1], [[1, 1, 1, 3, 2, 3], 1], [[4, 3, 2, 1, 2, 3], -1], [[3, 2, 4, 3, 3, 2], 1], [[1, 1, 1, 2, 2, 2], 1], [[2, 2, 2, 3, 3, 2], 1], [[2, 2, 1, 2, 2, 2], 1], [[1, 4, 3, 2, 3, 3], 1], [[1, 2, 4, 2, 3, 1], -1], [[3, 3, 4, 3, 1, 3], 1], [[2, 3, 3, 1, 3, 3], -1], [[4, 4, 2, 1, 3, 2], -1], [[3, 2, 1, 3, 1, 1], -1], [[4, 3, 4, 3, 1, 1], -1], [[3, 3, 1, 3, 1, 3], -1], [[1, 1, 4, 3, 3, 3], 1], [[4, 3, 4, 3, 3, 1], -1], [[1, 4, 4, 3, 3, 3], 1], [[4, 1, 1, 2, 3, 2], 1], [[4, 4, 3, 1, 3, 3], -1], [[1, 4, 1, 3, 3, 2], 1], [[2, 3, 3, 2, 2, 2], 1], [[1, 2, 1, 2, 3, 3], 1], [[4, 2, 4, 2, 2, 3], 1], [[1, 2, 1, 1, 3, 2], -1], [[3, 2, 4, 3, 3, 3], 1], [[1, 1, 4, 2, 3, 2], 1], [[2, 4, 4, 3, 2, 1], -1], [[4, 1, 2, 2, 2, 3], 1], [[3, 4, 1, 3, 2, 3], -1], [[2, 1, 4, 3, 2, 1], -1], [[2, 2, 1, 2, 3, 3], 1], [[3, 1, 1, 3, 1, 1], -1], [[4, 4, 2, 1, 2, 3], -1], [[3, 4, 2, 1, 3, 2], -1], [[2, 4, 1, 2, 3, 3], 1], [[4, 3, 2, 2, 3, 1], -1], [[1, 3, 3, 1, 2, 2], -1], [[4, 2, 4, 3, 1, 1], -1], [[1, 3, 3, 3, 2, 2], 1], [[2, 4, 3, 3, 1, 3], 1], [[2, 2, 4, 3, 1, 3], 1], [[1, 3, 1, 3, 1, 3], -1], [[2, 4, 4, 2, 3, 3], 1], [[3, 1, 1, 2, 1, 3], 1], [[1, 1, 3, 2, 3, 3], 1], [[1, 3, 4, 3, 2, 3], 1], [[2, 3, 2, 3, 2, 3], 1], [[3, 2, 2, 3, 1, 2], -1], [[4, 4, 3, 1, 1, 3], -1], [[4, 3, 4, 2, 3, 1], -1], [[1, 3, 2, 3, 1, 2], 1], [[4, 1, 2, 1, 2, 3], -1], [[2, 1, 4, 3, 1, 1], -1], [[3, 2, 4, 3, 3, 2], 1], [[2, 4, 3, 3, 1, 2], -1], [[2, 4, 1, 2, 1, 1], -1], [[4, 3, 4, 1, 1, 2], -1], [[3, 3, 1, 1, 2, 2], -1], [[2, 3, 1, 1, 2, 2], -1], [[2, 1, 4, 3, 1, 2], 1], [[2, 4, 2, 1, 3, 1], -1], [[2, 1, 4, 3, 2, 3], 1], [[1, 1, 4, 3, 3, 3], 1], [[3, 2, 4, 2, 2, 2], 1], [[2, 1, 1, 3, 3, 2], 1], [[2, 4, 1, 1, 2, 1], -1], [[4, 2, 3, 2, 3, 3], 1], [[4, 4, 2, 2, 3, 2], -1], [[2, 2, 1, 3, 3, 1], -1], [[4, 2, 4, 2, 3, 2], 1], [[4, 1, 1, 3, 3, 1], -1], [[3, 2, 4, 2, 2, 2], 1], [[2, 2, 3, 1, 1, 3], -1], [[4, 3, 4, 3, 2, 1], -1], [[1, 2, 1, 2, 3, 3], 1], [[4, 2, 4, 2, 3, 2], 1], [[2, 1, 3, 3, 2, 2], 1], [[1, 1, 4, 2, 3, 2], 1], [[1, 3, 3, 2, 2, 1], -1], [[3, 3, 2, 3, 2, 2], 1], [[4, 1, 2, 2, 1, 2], -1], [[3, 2, 4, 2, 3, 2], 1], [[1, 4, 1, 3, 3, 2], 1], [[3, 3, 4, 2, 1, 3], 1], [[2, 3, 1, 1, 3, 3], -1], [[2, 3, 3, 1, 3, 1], -1], [[1, 4, 1, 2, 3, 3], 1], [[4, 3, 1, 1, 1, 3], -1], [[3, 4, 1, 2, 1, 2], -1], [[1, 2, 1, 2, 3, 2], 1], [[4, 4, 2, 1, 2, 1], -1], [[2, 2, 3, 3, 2, 2], 1], [[3, 4, 2, 2, 3, 3], -1], [[2, 3, 2, 3, 2, 2], 1], [[1, 3, 4, 2, 2, 3], 1], [[1, 3, 1, 3, 2, 3], 1], [[3, 4, 4, 3, 1, 3], -1], [[1, 4, 4, 2, 1, 3], 1], [[1, 1, 2, 3, 3, 3], 1], [[1, 2, 2, 3, 3, 2], 1], [[3, 1, 4, 3, 3, 3], 1], [[3, 2, 4, 2, 3, 2], 1], [[1, 1, 1, 2, 3, 2], 1], [[2, 3, 4, 3, 3, 3], 1], [[2, 2, 2, 3, 2, 3], 1], [[2, 4, 2, 2, 2, 1], -1], [[1, 3, 4, 2, 3, 2], 1], [[1, 2, 3, 1, 2, 3], -1], [[1, 3, 2, 3, 1, 2], 1], [[2, 3, 3, 2, 3, 1], -1], [[1, 4, 3, 1, 2, 1], -1], [[2, 3, 4, 1, 3, 2], -1], [[3, 1, 3, 2, 3, 3], 1], [[2, 1, 3, 3, 1, 3], 1], [[2, 4, 1, 1, 2, 3], -1], [[2, 1, 4, 3, 2, 3], 1], [[4, 1, 1, 3, 3, 3], 1], [[1, 1, 3, 3, 3, 3], 1], [[3, 2, 4, 1, 2, 3], -1], [[1, 2, 2, 3, 3, 2], 1], [[1, 1, 4, 2, 3, 3], 1], [[4, 4, 3, 2, 2, 3], -1], [[1, 4, 2, 2, 3, 3], 1], [[2, 1, 1, 3, 2, 2], 1], [[2, 1, 4, 2, 2, 2], 1], [[2, 3, 2, 2, 1, 3], 1], [[1, 1, 3, 2, 1, 1], -1], [[2, 4, 4, 3, 3, 2], 1], [[1, 2, 3, 3, 1, 2], 1], [[4, 2, 3, 1, 2, 3], -1], [[3, 2, 3, 2, 1, 2], -1], [[3, 3, 3, 2, 3, 2], 1], [[1, 3, 2, 1, 2, 3], -1], [[3, 3, 4, 3, 3, 3], 1], [[1, 1, 2, 3, 1, 3], 1], [[3, 3, 4, 3, 3, 2], 1], [[3, 2, 1, 3, 3, 1], -1], [[4, 1, 1, 2, 3, 2], 1], [[1, 3, 3, 1, 1, 1], -1], [[3, 4, 1, 1, 3, 1], -1], [[2, 1, 3, 1, 2, 1], -1], [[2, 1, 2, 2, 1, 3], 1], [[4, 4, 3, 1, 1, 2], -1], [[3, 3, 3, 3, 3, 2], 1], [[1, 1, 4, 3, 1, 2], 1], [[4, 2, 4, 1, 3, 3], -1], [[2, 2, 2, 3, 3, 3], 1], [[4, 4, 2, 3, 2, 3], -1], [[3, 2, 2, 3, 1, 3], 1], [[1, 1, 4, 3, 2, 3], 1], [[3, 3, 4, 3, 3, 2], 1], [[2, 4, 3, 1, 1, 1], -1], [[3, 2, 3, 3, 3, 1], -1], [[3, 3, 3, 2, 2, 2], 1], [[2, 2, 3, 2, 3, 3], 1], [[4, 3, 3, 2, 2, 3], -1], [[2, 2, 1, 1, 3, 2], -1], [[3, 4, 1, 1, 1, 1], -1], [[4, 2, 3, 3, 1, 3], 1], [[3, 3, 2, 2, 3, 2], 1], [[2, 3, 2, 1, 1, 1], -1], [[2, 1, 4, 2, 1, 3], 1], [[1, 1, 4, 1, 1, 2], -1], [[3, 4, 2, 1, 1, 1], -1], [[4, 3, 4, 3, 1, 2], -1], [[2, 1, 2, 3, 1, 2], 1], [[3, 1, 2, 3, 3, 3], 1], [[1, 4, 2, 2, 1, 3], 1], [[4, 1, 2, 2, 3, 2], 1], [[2, 4, 4, 1, 1, 2], -1], [[4, 4, 3, 2, 1, 2], -1], [[3, 1, 1, 2, 1, 3], 1], [[1, 1, 4, 2, 3, 2], 1], [[3, 1, 2, 1, 2, 1], -1], [[4, 2, 4, 3, 3, 1], -1]]

weak_classifier = NaiveBayesianClassifier(train_data)

hit = 0
for line in test_data:
	y=line[1]

	# print weak_classifier[5][1][line[0][5]-1]

	neg = math.log(weak_classifier[0][0][line[0][0]-1])\
	+math.log(weak_classifier[1][0][line[0][1]-1])\
	+math.log(weak_classifier[2][0][line[0][2]-1])\
	+math.log(weak_classifier[3][0][line[0][3]-1])\
	+math.log(weak_classifier[4][0][line[0][4]-1])\
	+math.log(weak_classifier[5][0][line[0][5]-1])\
	+math.log(weak_classifier[6])
	pos = math.log(weak_classifier[0][1][line[0][0]-1])\
	+math.log(weak_classifier[1][1][line[0][1]-1])\
	+math.log(weak_classifier[2][1][line[0][2]-1])\
	+math.log(weak_classifier[3][1][line[0][3]-1])\
	+math.log(weak_classifier[4][1][line[0][4]-1])\
	+math.log(weak_classifier[5][1][line[0][5]-1])\
	+math.log(weak_classifier[7])

	# print pos,neg,line[0],y
	predict = 0
	if neg > pos:
		predict = -1
	else:
		predict = 1

	hit += 1 if predict == y else 0

print hit/float(len(test_data))